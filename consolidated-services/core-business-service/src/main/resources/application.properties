# Application Configuration for core-business-service
quarkus.application.name=core-business-service
quarkus.http.port=8081

# Database Configuration (using PostgreSQL)
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=chiro_user
quarkus.datasource.password=chiro_password
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/chiro_core_business

# Modern Schema Evolution with Liquibase (YAML-based migrations)
quarkus.liquibase.migrate-at-start=true
quarkus.liquibase.change-log=db/changesets/db.changelog-master.yaml
quarkus.liquibase.clean-at-start=false
quarkus.liquibase.drop-first=false

# Hibernate Configuration (smart schema validation)
quarkus.hibernate-orm.database.generation=validate
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.log.format-sql=true
quarkus.hibernate-orm.log.bind-parameters=true

# Bean Validation
quarkus.hibernate-validator.fail-fast=false

# Logging
quarkus.log.level=INFO
quarkus.log.category."org.chiro".level=DEBUG
quarkus.log.category."liquibase".level=INFO

# Health checks
quarkus.smallrye-health.enabled=true

# Development configuration
%dev.quarkus.hibernate-orm.database.generation=drop-and-create
%dev.quarkus.liquibase.migrate-at-start=false
%dev.quarkus.hibernate-orm.sql-load-script=import.sql

# Test configuration  
%test.quarkus.datasource.db-kind=h2
%test.quarkus.datasource.jdbc.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1
%test.quarkus.hibernate-orm.database.generation=drop-and-create
%test.quarkus.liquibase.migrate-at-start=false
